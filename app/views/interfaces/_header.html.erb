<div class="mobile-topbar topbar">
  <%= react_component "MobileTopbar", {
        routes: yield,
        railsAppName: "account-center"
      } %>
</div>

<div class="topbar" data-constraints="non-mobile">
  <div class="app-badge_container"
    onclick="
      $('body').toggleClass('i-topbar_applist-is-expanded');
      $(document).trigger('app-badge:clicked');
    "
    onmouseenter="$(document).trigger('app-badge:hovered');">
    <div class="app-badge" data-constraints="non-mobile">
      <div class="app-badge_button">
        <div id="logo" class="bookmark icon-<%= application_class_name %>-logo" aria-hidden="true"></div>
        <i class="app-badge_chevron interfaces interfaces-caret-down-outline"></i>
      </div>

      <div class="topbar_applist" data-constraints="non-mobile">
        <%= react_component "AppListContainer", { railsEnv: Rails.env } %>
      </div>
    </div>
  </div>

  <section class="top-bar-section">
    <%= yield %>

    <div class="top-bar-quarantine" style="clear: both; border-top: 1px solid #222">
      <div
        data-person-profile-link
        data-person-id="<%= person.id %>"
        style="text-align: left; color: white; padding-left: 20px">
        <%= person %> <%= organization %>
      </div>
      <% if person.staff? %>
        <a
          style="text-align: left; color: white; padding-left: 20px; border-top: 1px solid #222"
          href="<%= PCO::URL.accounts "administration" %>">admin</a>
      <% end %>
      <a
        style="text-align: left; color: white; padding-left: 20px; border-top: 1px solid #222"
        id="jsLaunchHelpdesk">help</a>
      <a
        style="text-align: left; color: white; padding-left: 20px; border-top: 1px solid #222"
        href="<%= PCO::URL.accounts "logout" %>">logout</a>
    </div>

    <%= render "interfaces/user_help" %>
    <%= render partial: "interfaces/user_badge",
                locals:  { person: person,
                           organization: organization,
                           profile_path: profile_path } %>
  </section>
</div>
