//========================================================
//
//     STYLING for the main app navigation, and top bar
//
///========================================================


//=================================================[ TOP BAR ]
.top-bar
  overflow: visible
  height: $topbar-height
  margin: 0 auto
  background: $base-color
  min-height: $topbar-height
  border-bottom: 1px solid adjust-color($base-color, $lightness: -25%, $saturation: -20%)
  ul
    margin: 0
    line-height: inherit
  .top-nav-options
    height: 0
    overflow: hidden
    background: adjust-color($base-color, $lightness: -20%, $saturation: -48%)

.top-bar__contents
  border-bottom: 1px solid adjust-color($base-color, $lightness: -20%, $saturation: -90%)

.title-area
  position: relative

.bookmark, .bookmark:before
  display: block
  height: $topbar-height
  font-size: 12.75rem
  line-height: $topbar-height
  color: #fff
  display: block

//=================================================[ NAVIGATION ]

.top-bar-section
  position: relative
  width: auto
  .divider
    clear: both
    height: 1px
    width: 100%  

  .top-nav-options ul li
    > a
      color: #fff
      font-weight: normal
      display: block
      font-weight: normal
      min-height: 20px
      padding: 15px
      +font-size(12)
      line-height: 1.75
      &:hover
        color: #fff
        background: adjust-color($base-color, $lightness: -42%, $saturation: -30%)
    > a.active
      color: #fff
      background: adjust-color($base-color, $lightness: -42%, $saturation: -30%)

  
//Set the bar's height to auto when expanded in mobile view
.top-bar.active-state, .top-bar.active-state .top-nav-options
  height: auto

//=================================================[ APP SWITCHER ]  

.alt-state.app-switcher-wrap .menu-wrap
  display: block !important

.app-switcher
  .chevron
    display: none
  .toggle-btn, .toggle-btn-cover
    position: absolute
    cursor: pointer
    +border-radius(4px)
    width: 20px
    height: 18px
    text-align: center
  .toggle-btn
    display: none
    top: 15px
    left: 189px
    background: adjust-color($base-color, $lightness: -35%, $saturation: -85%)
  .toggle-btn-cover
    top: 13px
    right: 13px
    background: #fff
    border: 1px solid #e9e9e9
    z-index: 3001
    &:hover
      .pco-ui-remove
        color: #747474
  .pco-ui-close
    +font-size(9)
    color: $gray
    display: block
    position: relative
    top: 4px
  .threshold
    position: absolute
    height: 16px
    width: 100%
  .menu-wrap
    top: $topbar-height
    left: 5px
    right: 5px
    +border-bottom-radius(3px)
    +box-shadow(0 1px 8px 1px rgba(0, 0, 0, 0.3))
    z-index: 3000
    position: absolute
    background: #fff
    display: none    
    &:after
      display: none
    ul
      padding: 0
      margin: 0
    li
      display: block
      white-space: nowrap
      line-height: 1.2em
      border-bottom: 1px solid #ececec
      em
        line-height: 1.3
      &:first-child a
        +border-top-radius(3px)
      &:last-child
        border-bottom: 0
        a
          +border-bottom-radius(3px)
      .icon
        position: absolute
        top: 50%
        margin-top: -15px
        left: 10px
        width: 29px
        height: 30px
        background: transparent image-url("icons/app_icons.png") 0 0
      &.resources .icon
        background-position: 0px -29px
      &.accounts .icon
        background-position: 0px -59px
    a
      position: relative
      padding: 8px 15px 10px 47px
      font-size: 16px
      font-weight: normal
      color: lighten($dark-gray, 5)
      border: 0
    
    a:hover
      color: darken($link-color-hover, 10)
      background: lighten($lighter-gray, 2)
    .icon, em, a, .a
      display: block
    em
      font-size: 10px
      font-style: normal

.app-switcher-wrap
  width: 32px
  height: $topbar-height
  cursor: pointer
  overflow: hidden
  margin: 0 auto

//======================================MENU / SIDEBAR ICONS

.menu-icon
  position: absolute
  top: 50%
  margin-top: -25px
  text-align: center
  &#toggle-topbar
    right: 0
    border-left: 1px solid adjust-color($base-color, $lightness: -20%, $saturation: -15%)   
  &#toggle-sidebar
    left: 0
    border-right: 1px solid adjust-color($base-color, $lightness: -20%, $saturation: -15%)
  .title
    height: 1
    width: 1
    display: block
    position: absolute
    text-indent: -9999em
    visibility: hidden
  a, a span
    width: 50px
    height: 50px
    line-height: 50px
    padding: 0
    color: white    
    +font-size(20)
    position: relative
    display: block


//======================================Account Info
.top-bar .utilities > li span
  display: none


.top-bar .top-bar-section .account-info
  li
    float: none
    display: block
  .avatar
    display: none

  .utilities
    position: relative         

  //DROPDOWN CONTENTS
  .accounts
    a span
      vertical-align: middle
    .badge
      min-width: 60px
      text-align: center
      margin: -.2rem .75rem 0 0
      +font-size(11)
      float: left

  .identity a
    display: inline-block

//Acct dropdown med screens
#toggle-account-details
  display: none
