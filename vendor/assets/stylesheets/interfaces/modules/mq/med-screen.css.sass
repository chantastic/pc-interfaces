//======================================================
// All rules pertaining to screens greater than 47.95em or ~767px
//======================================================
@media (min-width: 47.95em)
  // html, body
  //   height: auto
  .top-bar
    .lefty
      float: left
    .righty
      float: right 

    .top-nav-options
      padding-right: 0
      background: transparent
      overflow: visible
      height: auto

    .top-nav-options ul li
      float: left
      > a
        padding: 0 15px
        height: $topbar-height
        &:hover, &.active
          background: adjust-color($base-color, $lightness: -12%, $saturation: -5%)
          .icon
            color: #fff
        .icon
          color: adjust-color($base-color, $lightness: -30%, $saturation: -15%)          

  .title-area
    float: left  

  .top-bar-section
    .divider
      border: 0
      clear: none
      width: 0
      height: $topbar-height
      border-left: 1px solid adjust-color($base-color, $lightness: -20%, $saturation: -15%)   

    .top-nav-options ul li
      > a
        line-height: $topbar-height
      .icon
        position: relative
        top: .5rem
        margin-right: 8px
        +font-size(22)
  .app-switcher-wrap
    padding-left: 10px
    margin: 0
    width: $sidebar-width-med-screen
    background: adjust-color($base-color, $lightness: -20%, $saturation: -90%)

  .app-switcher
    position: absolute
    left: 0
    top: 0
    .chevron
      position: absolute
      display: block
      top: 6px
      left: 6px
      border-top: 5px solid #fff
      border-left: solid 4px transparent
      border-right: solid 4px transparent
      border-left-style: inset
      border-right-style: inset
    .toggle-btn
      display: block
    .toggle-btn-cover span
      display: block
      +font-size(1)
      position: relative
      top: 4px
      color: adjust-color($base-font-color, $lightness: 25%)
    .menu-wrap
      top: 5px
      left: 5px
      width: ($sidebar-width-med-screen - 8px)
      +border-top-radius(3px)       

  .menu-icon
    display: none

  //======================================Layout
  .main-wrap 
    margin: 0px 0px -25px 0px
    position: relative
    background: transparent
    &:before
      content: ''
      position: absolute
      top: 0
      left: 0
      bottom: 0
      display: block
      padding-bottom: 45px
      width: $sidebar-width-med-screen
      background: $sidebar-bg-color
    .main-content-block
      // background: $bg-color
    .main-section
      width: 100%
      float: right
      padding: 0
      border-left: $sidebar-width-med-screen solid transparent
    .main-section__inner
      padding: 20px 20px 45px

  .left-off-canvas
    position: relative
    float: left
    width: $sidebar-width-med-screen
    margin: 0 0 0 $sidebar-width-med-screen * -1
    left: $sidebar-width-med-screen

  .site-footer
    position: relative
    z-index: 3  
    display: block
    height: 25px
    clear: both
    border-top: 1px solid adjust-color($sidebar-bg-color, $lightness: -10%, $saturation: -80%)
    background: adjust-color($sidebar-bg-color, $lightness: -5%, $saturation: -80%)

  .off-canvas-wrap
    min-height: 100%
    height: auto
    background: $bg-color
    +box-shadow($sidebar-width-med-screen 0 0 $sidebar-bg-color inset)
  .fullwidth .off-canvas-wrap
    +box-shadow(none)


  //======================================Account Info
  .top-bar .top-bar-section .account-info
    position: relative
    width: 65px
    height: $topbar-height
    border-left: 1px solid adjust-color($base-color, $lightness: -20%, $saturation: -15%)    
    .avatar
      display: block
      float: left
      height: 26px
      width: 26px
      margin: 12px 8px 5px 8px
      background: adjust-color($base-color, $lightness: -5%, $saturation: -25%)
      border: 1px solid adjust-color($base-color, $lightness: -15%, $saturation: -45%)   
      img
        display: block

  //Acct dropdown med screens
  .account-info ul li:last-child a
    +border-bottom-radius(3px)
  #toggle-account-details
    position: absolute
    top: 0
    left: 0
    bottom: 0
    width: 100%
    display: block
    z-index: 4
    cursor: pointer
    span
      position: absolute
      top: 50%
      margin-top: -0.5rem
      right: 10px
      color: adjust-color($base-color, $lightness: -15%, $saturation: -45%)
      +font-size(10)

  //Acct Dropdown
  .top-bar
    .has-acct-dropdown.active-state .acct-dropdown
      display: block

    .has-acct-dropdown .acct-dropdown
      width: auto
      min-width: 310px
      max-width: 420px
      right: 0
      top: 27px    
      overflow: visible
      position: absolute
      display: none
      background: #fff
      +border-radius(3px)
      +box-shadow(0 1px 6px $dropdown-shadow)
      &:after
        +triangle("up", #fff, 6px)
        right: 24px

  #account-details
    .utilities
      > li
        padding-left: 3px
        &:first-child
          padding-left: 0
      > li span
        position: relative
        top: .1rem
        margin-right: .1rem 
        color: adjust-color($base-color, $lightness: -30%, $saturation: -15%)
      .dropdown
        > li
          display: block
      .section-heading
        position: relative
        padding: 10px 0 0 0
        line-height: 1.2
        .a
          display: block
          padding: 0 40px 10px 10px
        a
          color: $link-color
        .log
          position: absolute
          top: 10px
          right: 8px
          +border-radius(2px)
          border: 1px solid $danger-color
          color: $danger-color
          padding: .15rem .35rem .35rem .35rem
          line-height: 1
          height: auto
          &:hover
            background: transparent
        .unlink
          display: block
          padding: 5px
          padding: 0 7px
          height: 30px
          line-height: 30px
          +font-size(12)
          background: adjust-color($base-color, $lightness: 56%, $saturation: -60%)
          &:hover
            background: adjust-color($base-color, $lightness: 55%, $saturation: -60%)
          .outline
            +border-radius(3px)
            min-width: 60px
            border: 1px solid
            color: adjust-color($base-color, $lightness: -5%, $saturation: 0%)
            position: relative
            top: 6px
            margin: 0 .75rem 0 0
            padding: 0.15rem 0.5rem 0.25rem            
            min-width: 60px
            text-align: center
            +font-size(11)
            line-height: 1
            float: left    
    

    //DROPDOWN CONTENTS
    .accounts
      a
        display: block
        overflow: hidden
        padding: 0 7px
        height: 30px
        line-height: 30px
        color: $base-font-color
        border-top: 1px solid adjust-color($light-gray, $lightness: 10%)
        +font-size(12)
        &:first-child
          border-top: 0
        &:last-child
          +border-radius(0 0 3px 3px)
        &:hover
          color: $highlighted-color
          background: $highlighted-bg-color
      .badge
        position: relative
        top: 6px
        color: #fff
        margin: 0 5px 0 0
        padding: 0.15rem 0.5rem 0.25rem             

  //UTILITIES
  .showformobile
    display: none !important

  //GRIDS
  .col
    float: left

@media only screen and (min-width: 47.95em) and (max-width: 61.3em)
  .account-info.active-state #account-details
    display: block
  #account-details
    display: none
    +abs-pos(100%, 5px, auto, auto)
    background: white
    +border-radius(3px)
    +box-shadow(0 1px 6px $dropdown-shadow)
    min-width: 220px
    &:after
      content: ""
      display: block
      width: 0
      height: 0
      border: inset 6px
      border-color: transparent transparent white transparent
      border-bottom-style: solid
      position: absolute
      top: -12px
      right: 5px
      z-index: 99
    .identity
      span
        display: none
      li
        +font-size(14)
        padding: 10px
        line-height: 1.2
        border-bottom: 0
      a
        color: $link-color
        height: auto
        line-height: 1.2
        display: block
        padding: 0 0 5px 0
        +font-size(20)
        &:hover
          background-color: transparent

    .utilities
      a
        padding: 0 7px
        height: 30px
        line-height: 30px
        color: $base-font-color
        border-top: 1px solid adjust-color($light-gray, $lightness: 10%)
        &:hover
          color: $highlighted-color
          background: $highlighted-bg-color
    
    .has-acct-dropdown
      position: relative
      &:after
        +abs-pos(50%, 10px, auto, auto)
        +triangle("right", #ccc, 6px)
        margin-top: -5px
      > a
        padding-right: 25px

      //ACCOUNT DROPDOWN
      .acct-dropdown
        top: 100%
        right: 0
        &:after
          display: none
