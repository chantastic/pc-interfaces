@import "interfaces/_mixins/legacy_respond"

@import "interfaces/attributes/pointable"
@import "interfaces/core/variables"
@import "interfaces/modules/_list_item_base"

@import "compass/css3/transition"
@import "compass/css3/transform"

$class: 'tab-list-item'

// base

.#{$class}
  @extend %list-item-base

  position:     relative
  border-color: $list-border-color
  padding:      $list-vertical-padding $list-horizontal-padding
  background:   #f1f1f1
  color:        $link-color

  @include transition(background-color 0 ease)

  &:last-child
    border-bottom-width: $list-border-width

.#{$class}::before
  display:     none
  position:    absolute
  right:       1rem
  font-family: "interfaces"
  content:     "\e60d"

.#{$class}::after
  // a shim to cover the .tab-content-group border
  display:          none
  position:         absolute
  top:              0
  right:            -.1rem
  width:             .1rem
  height:           100%
  content:          " "
  background-color: white

.#{$class}:hover:not(.is-open)
  background: #e5e5e5
  color:      $link-color-hover

  @include pointable
  @include transition(background-color .4s ease)

.#{$class}.is-open
  background: white
  color:      $link-color-focus
  z-index:    1000 // lift above siblings

// respond

@include legacy_respond_when(xs)
  .#{$class}.is-open:hover
    @include pointable

  .#{$class}.is-open::before
    display: block

@include legacy_respond_at(xs)
  .#{$class}:not(.is-open)
    display: none

  .#{$class}.is-open
    display: block

@include legacy_respond_at(sm)
  .#{$class}::before
    display: none

  .#{$class}:not(.is-open)
    display: block

  .#{$class}.is-open::after
    display: block

// CASCADING PARENT

.tab-list.is-expanded
  .#{$class}
    display: block

  .#{$class}.is-open::before
    content: "\e60e"
